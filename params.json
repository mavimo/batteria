{"name":"Batteria","tagline":"Tool di analisi per verificare l'uso di batterie associate ad impianti fotovoltaici.","body":"<html lang=\"en\" ng-app=\"StarterApp\">\r\n  <head>\r\n    <link rel=\"stylesheet\" href=\"https://ajax.googleapis.com/ajax/libs/angular_material/0.9.4/angular-material.min.css\">\r\n    <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=RobotoDraft:300,400,500,700,400italic\">\r\n    <meta name=\"viewport\" content=\"initial-scale=1\" />\r\n  </head>\r\n  <body layout=\"column\" ng-controller=\"AppCtrl\">\r\n    <md-toolbar layout=\"row\">\r\n      <div class=\"md-toolbar-tools\">\r\n        <md-button ng-click=\"toggleSidenav('left')\" hide-gt-sm class=\"md-icon-button\">\r\n          <md-icon aria-label=\"Menu\" md-svg-icon=\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/68133/menu.svg\"></md-icon>\r\n        </md-button>\r\n        <h1>Analisi batteria per impianto fotovoltaico</h1>\r\n      </div>\r\n    </md-toolbar>\r\n    <div layout=\"row\" flex>\r\n        <md-sidenav layout=\"column\" class=\"md-sidenav-left md-whiteframe-z2\" md-component-id=\"left\" md-is-locked-open=\"$mdMedia('gt-sm')\">\r\n            <md-content layout=\"column\" flex class=\"md-padding\">\r\n              <div layout layout-sm=\"column\">\r\n                <md-input-container flex>\r\n                  <label>Produzione media annua (kWh)</label>\r\n                  <input type=\"number\" min=\"0\" ng-model=\"produzione\">\r\n                </md-input-container>\r\n              </div>\r\n\r\n              <div layout>\r\n                <div flex=\"100\" layout layout-align=\"center center\">\r\n                  <label>Autoconsumo Attuale</label>\r\n                </div>\r\n              </div>\r\n              <div layout>\r\n                <div flex=\"80\" layout layout-align=\"center center\">\r\n                  <md-slider flex class=\"md-warn\" md-discrete ng-model=\"autoconsumo_attuale\" min=\"0\" max=\"100\" aria-label=\"autoconsumo_attuale\">\r\n                  </md-slider>\r\n                </div>\r\n                <div flex=\"20\" layout layout-align=\"center center\">\r\n                  <input type=\"number\" ng-model=\"autoconsumo_attuale\" aria-label=\"autoconsumo_attuale\" aria-controls=\"autoconsumo_attuale\">\r\n                </div>\r\n              </div>\r\n\r\n              <div layout>\r\n                <div flex=\"100\" layout layout-align=\"center center\">\r\n                  <label>Autoconsumo Atteso</label>\r\n                </div>\r\n              </div>\r\n              <div layout>\r\n                <div flex=\"80\" layout layout-align=\"center center\">\r\n                  <md-slider flex class=\"md-warn\" md-discrete ng-model=\"autoconsumo_atteso\" min=\"0\" max=\"100\" aria-label=\"autoconsumo_atteso\">\r\n                  </md-slider>\r\n                </div>\r\n                <div flex=\"20\" layout layout-align=\"center center\">\r\n                  <input type=\"number\" ng-model=\"autoconsumo_atteso\" aria-label=\"autoconsumo_atteso\" aria-controls=\"autoconsumo_atteso\">\r\n                </div>\r\n              </div>\r\n              <div layout layout-sm=\"column\">\r\n                <md-input-container flex>\r\n                  <label>Costo batteria (&euro;)</label>\r\n                  <input type=\"number\" min=\"0\" ng-model=\"costo_batteria\">\r\n                </md-input-container>\r\n              </div>\r\n              <div layout layout-sm=\"column\">\r\n                <md-input-container flex>\r\n                  <label>Costo inverter (&euro;)</label>\r\n                  <input type=\"number\" min=\"0\" ng-model=\"costo_inverter\">\r\n                </md-input-container>\r\n              </div>\r\n              <div layout layout-sm=\"column\">\r\n                <md-input-container flex>\r\n                  <label>Costo elettricit&aacute; (&euro;/kWh)</label>\r\n                  <input type=\"number\" min=\"0\" ng-model=\"costo_elettricita\">\r\n                </md-input-container>\r\n              </div>\r\n              <div layout layout-sm=\"column\">\r\n                <md-input-container flex>\r\n                  <label>Prezzo vendita elettricit&aacute; (&euro;/kWh)</label>\r\n                  <input type=\"number\" min=\"0\" ng-model=\"prezzo_elettricita\">\r\n                </md-input-container>\r\n              </div>\r\n              <div layout layout-sm=\"column\">\r\n                <md-input-container flex>\r\n                  <label>Aumento costo energia (%/anno)</label>\r\n                  <input type=\"number\" min=\"0\" ng-model=\"aumento_energia\">\r\n                </md-input-container>\r\n              </div>\r\n              <div layout layout-sm=\"column\">\r\n                <md-input-container flex>\r\n                  <label>Inflazione (%/anno)</label>\r\n                  <input type=\"number\" min=\"0\" ng-model=\"inflazione\">\r\n                </md-input-container>\r\n              </div>\r\n              <div layout layout-sm=\"column\" layout-align=\"center center\">\r\n                <md-button class=\"md-raised md-primary\" ng-click=\"compute()\">Calcola</md-button>\r\n              </div>\r\n            </md-content>\r\n        </md-sidenav>\r\n\r\n        <div layout=\"column\" flex id=\"content\" style=\"margin: 0 20px;\" ng-if=\"risultati\">\r\n          <md-content>\r\n            <div layout layout-sm=\"column\">\r\n              <md-input-container flex>\r\n                <label>Incremento autoconsumo</label>\r\n                <input type=\"number\" ng-model=\"delta_autoconsumo\" disabled>\r\n              </md-input-container>\r\n\r\n              <md-input-container flex>\r\n                <label>Ricarica Batteria (kWh/giorno)</label>\r\n                <input type=\"number\" ng-model=\"ricarica_batteria\" disabled>\r\n              </md-input-container>\r\n\r\n              <md-input-container flex>\r\n                <label>Montaggio (&euro;)</label>\r\n                <input type=\"number\" ng-model=\"costo_montaggio\" disabled>\r\n              </md-input-container>\r\n\r\n              <md-input-container flex>\r\n                <label>Costo totale (&euro;)</label>\r\n                <input type=\"number\" ng-model=\"costo_totale\" disabled>\r\n              </md-input-container>\r\n\r\n              <md-input-container flex>\r\n                <label>Guadagno autoconsumo (&euro;/kWh)</label>\r\n                <input type=\"number\" ng-model=\"guadagno_autoconsumo\" format=\"0.01\" disabled>\r\n              </md-input-container>\r\n            </div>\r\n          </md-content>\r\n          <md-content ng-if=\"anno_pareggio\" class=\"anno-pareggio\">\r\n            <div layout layout-sm=\"column\">\r\n              <h1>Pareggio all'anno {{ anno_pareggio }}</h1>\r\n            </div>\r\n          </md-content>\r\n\r\n          <table class=\"table table-hover table-mc-light-blue\">\r\n            <thead>\r\n              <tr>\r\n                <th ng-repeat=\"(key, value) in risultati\">{{ key }} anno</th>\r\n              </tr>\r\n            </thead>\r\n            <tfoot></tfoot>\r\n            <tbody>\r\n              <tr>\r\n                <td ng-repeat=\"(key, value) in risultati\">{{ value.costo_energia_acquisto|number:2 }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td ng-repeat=\"(key, value) in risultati\">{{ value.costo_energia_vendita|number:2 }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td ng-repeat=\"(key, value) in risultati\">{{ value.guadagno_autoconsumo|number:2 }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td ng-repeat=\"(key, value) in risultati\">{{ value.guadagno_attualizzato|number:2 }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td ng-repeat=\"(key, value) in risultati\" class=\"{{ value.styling.background }}\">{{ value.guadagno_cumulato|number:2 }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n    </div>\r\n    <!-- Angular Material Dependencies -->\r\n    <script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js\"></script>\r\n    <script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js\"></script>\r\n    <script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.min.js\"></script>\r\n\r\n    <script src=\"https://ajax.googleapis.com/ajax/libs/angular_material/0.9.4/angular-material.min.js\"></script>\r\n\r\n\r\n    <style type=\"text/css\">\r\ntd.red {\r\n  background-color: red;\r\n  color: white;\r\n}\r\ntd.green {\r\n  background-color: green;\r\n  color: white;\r\n}\r\n\r\n.anno-pareggio h1 {\r\n  margin: auto;\r\n}\r\n\r\n/* -- import Roboto Font ---------------------------- */\r\n@import \"https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic&subset=latin,cyrillic\";\r\n/* -- You can use this tables in Bootstrap (v3) projects. -- */\r\n/* -- Box model ------------------------------- */\r\n*,\r\n*:after,\r\n*:before {\r\n  -webkit-box-sizing: border-box;\r\n  -moz-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n}\r\nbody {\r\n  font-family: 'RobotoDraft', 'Roboto', 'Helvetica Neue, Helvetica, Arial', sans-serif;\r\n}\r\n.shadow-z-1 {\r\n  -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12), 0 1px 2px 0 rgba(0, 0, 0, 0.24);\r\n  -moz-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12), 0 1px 2px 0 rgba(0, 0, 0, 0.24);\r\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12), 0 1px 2px 0 rgba(0, 0, 0, 0.24);\r\n}\r\n/* -- Material Design Table style -------------- */\r\n.table {\r\n  width: 100%;\r\n  max-width: 100%;\r\n  margin-bottom: 2rem;\r\n  background-color: #ffffff;\r\n}\r\n.table > thead > tr,\r\n.table > tbody > tr,\r\n.table > tfoot > tr {\r\n  -webkit-transition: all 0.3s ease;\r\n  -o-transition: all 0.3s ease;\r\n  transition: all 0.3s ease;\r\n}\r\n.table > thead > tr > th,\r\n.table > tbody > tr > th,\r\n.table > tfoot > tr > th,\r\n.table > thead > tr > td,\r\n.table > tbody > tr > td,\r\n.table > tfoot > tr > td {\r\n  text-align: right;\r\n  padding: 0.6rem;\r\n  vertical-align: top;\r\n  border-top: 0;\r\n  -webkit-transition: all 0.3s ease;\r\n  -o-transition: all 0.3s ease;\r\n  transition: all 0.3s ease;\r\n}\r\n.table > thead > tr > th {\r\n  font-weight: 400;\r\n  color: #757575;\r\n  vertical-align: bottom;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\r\n}\r\n.table > caption + thead > tr:first-child > th,\r\n.table > colgroup + thead > tr:first-child > th,\r\n.table > thead:first-child > tr:first-child > th,\r\n.table > caption + thead > tr:first-child > td,\r\n.table > colgroup + thead > tr:first-child > td,\r\n.table > thead:first-child > tr:first-child > td {\r\n  border-top: 0;\r\n}\r\n.table > tbody + tbody {\r\n  border-top: 1px solid rgba(0, 0, 0, 0.12);\r\n}\r\n.table .table {\r\n  background-color: #ffffff;\r\n}\r\n.table .no-border {\r\n  border: 0;\r\n}\r\n.table-condensed > thead > tr > th,\r\n.table-condensed > tbody > tr > th,\r\n.table-condensed > tfoot > tr > th,\r\n.table-condensed > thead > tr > td,\r\n.table-condensed > tbody > tr > td,\r\n.table-condensed > tfoot > tr > td {\r\n  padding: 0.8rem;\r\n}\r\n.table-bordered {\r\n  border: 0;\r\n}\r\n.table-bordered > thead > tr > th,\r\n.table-bordered > tbody > tr > th,\r\n.table-bordered > tfoot > tr > th,\r\n.table-bordered > thead > tr > td,\r\n.table-bordered > tbody > tr > td,\r\n.table-bordered > tfoot > tr > td {\r\n  border: 0;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n.table-bordered > thead > tr > th,\r\n.table-bordered > thead > tr > td {\r\n  border-bottom-width: 2px;\r\n}\r\n.table-striped > tbody > tr:nth-child(odd) > td,\r\n.table-striped > tbody > tr:nth-child(odd) > th {\r\n  background-color: #f5f5f5;\r\n}\r\n.table-hover > tbody > tr:hover > td,\r\n.table-hover > tbody > tr:hover > th {\r\n  background-color: rgba(0, 0, 0, 0.12);\r\n}\r\n    </style>\r\n\r\n    <script type=\"text/javascript\">\r\nvar app = angular.module('StarterApp', ['ngMaterial']);\r\n\r\napp.controller('AppCtrl', ['$scope', function($scope){\r\n  $scope.produzione = 3900;\r\n  $scope.autoconsumo_attuale = 50;\r\n  $scope.autoconsumo_atteso = 80;\r\n  $scope.costo_batteria = 2430;\r\n  $scope.costo_inverter = 1000;\r\n  $scope.costo_elettricita = 0.22;\r\n  $scope.prezzo_elettricita = 0.05;\r\n  $scope.aumento_energia = 3;\r\n  $scope.inflazione = 1;\r\n\r\n  $scope.compute = function () {\r\n    $scope.delta_autoconsumo = ($scope.autoconsumo_atteso - $scope.autoconsumo_attuale) / 100;\r\n    $scope.costo_montaggio = ($scope.costo_batteria + $scope.costo_inverter) * 0.225;\r\n    $scope.costo_totale = $scope.costo_montaggio + $scope.costo_batteria + $scope.costo_inverter;\r\n    $scope.guadagno_autoconsumo = $scope.costo_elettricita - $scope.prezzo_elettricita;\r\n    $scope.ricarica_batteria = $scope.produzione * ($scope.autoconsumo_atteso / 100) * ($scope.autoconsumo_attuale / 100) / 365;\r\n\r\n    $scope.risultati = [];\r\n\r\n    console.log($scope);\r\n\r\n    var dati = {\r\n      costo_energia_acquisto: null,\r\n      costo_energia_vendita: null,\r\n      guadagno_autoconsumo: null,\r\n      guadagno_attualizzato: $scope.costo_totale,\r\n      guadagno_cumulato: -$scope.costo_totale\r\n    };\r\n\r\n    $scope.risultati.push(dati);\r\n\r\n    var dati = {\r\n      costo_energia_acquisto: $scope.costo_elettricita,\r\n      costo_energia_vendita: $scope.prezzo_elettricita\r\n    }\r\n    dati.guadagno_autoconsumo = (dati.costo_energia_acquisto - dati.costo_energia_vendita) * $scope.produzione * $scope.delta_autoconsumo;\r\n    dati.guadagno_attualizzato = dati.guadagno_autoconsumo / Math.pow((1 + ($scope.inflazione / 100)), 1);\r\n    dati.guadagno_cumulato = $scope.risultati[0].guadagno_cumulato + dati.guadagno_attualizzato;\r\n\r\n    $scope.risultati.push(dati);\r\n\r\n    for (var i = 1; i < 100; i++) {\r\n      var dati = {\r\n        costo_energia_acquisto: $scope.risultati[i].costo_energia_acquisto + $scope.risultati[i].costo_energia_acquisto * $scope.aumento_energia / 100,\r\n        costo_energia_vendita: $scope.risultati[i].costo_energia_vendita + $scope.risultati[i].costo_energia_vendita * $scope.aumento_energia / 100\r\n      };\r\n      dati.guadagno_autoconsumo = (dati.costo_energia_acquisto - dati.costo_energia_vendita) * $scope.produzione * $scope.delta_autoconsumo;\r\n      dati.guadagno_attualizzato = dati.guadagno_autoconsumo / Math.pow((1 + $scope.inflazione / 100), i + 1);\r\n      dati.guadagno_cumulato = $scope.risultati[i].guadagno_cumulato + dati.guadagno_attualizzato;\r\n\r\n      $scope.risultati.push(dati);\r\n\r\n      if (dati.guadagno_cumulato > 0) {\r\n        $scope.anno_pareggio = i + 1;\r\n        break;\r\n      }\r\n    };\r\n\r\n    angular.forEach($scope.risultati, function (value, key) {\r\n      $scope.risultati[key].styling = {};\r\n      $scope.risultati[key].styling.background = value.guadagno_cumulato < 0 ? 'red' : 'green';\r\n    });\r\n  }\r\n}]);\r\n    </script>\r\n  </body>\r\n</html>\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}